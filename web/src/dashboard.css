/* ===== FONT IMPORTS ===== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Crimson+Text:wght@400;600;700&display=swap');

/* 
PERFECT DASHBOARD STYLESHEET
Single source of truth for ALL styling across the dashboard
Replaces 2,228 chaotic styling methods with ONE standardized approach
*/

/* ======================================================= */
/* ===== MASTER LAYOUT & TYPOGRAPHY ENFORCEMENT ===== */
/* ======================================================= */

/*
  New, narrower font size scale for professional typography.
*/
:root {
    --font-size-display: 2.2rem;   /* For large, primary scores */
    --font-size-h1: 2.0rem;      /* For main page titles */
    --font-size-h2: 1.6rem;      /* For major section headers */
    --font-size-h3: 1.3rem;      /* For subsection headers */
    --font-size-body-lg: 1.1rem; /* For prominent body text */
    --font-size-body: 1.0rem;    /* For default body text */
    --font-size-sm: 0.9rem;      /* For labels and secondary text */
    --font-size-xs: 0.8rem;      /* For footers and captions */
}

/*
  Force a maximum width on the main content container to prevent
  pages from expanding indefinitely. This is critical for layout control.
*/
.main .block-container {
    max-width: 1200px !important;
    width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    margin: 0 auto !important;
    overflow-x: hidden !important;
}

/*
  Tame the giant fonts. Enforce professional, readable header sizes.
*/
.main h1, .main-header h1 {
    font-size: var(--font-size-h1) !important;
    font-weight: 600 !important;
    margin-bottom: 0.5rem !important;
}

.main h2 {
    font-size: var(--font-size-h2) !important;
    font-weight: 600 !important;
    margin-top: 2rem !important;
    margin-bottom: 1rem !important;
    padding-bottom: 0.5rem !important;
    border-bottom: 2px solid var(--border-color) !important;
}

.main h3 {
    font-size: var(--font-size-h3) !important;
    font-weight: 600 !important;
    margin-top: 1.5rem !important;
    margin-bottom: 0.75rem !important;
}

/*
  Contain wide tables and prevent them from breaking the layout.
*/
div[data-testid="stDataFrame"] {
    width: 100% !important;
    overflow-x: auto !important;
}

/*
  Apply new font scale to metric cards for consistency.
*/
.metric-value {
    font-size: var(--font-size-display) !important;
}
.persona-perf-score {
    font-size: var(--font-size-display) !important;
}
.metric-label, .persona-perf-label {
    font-size: var(--font-size-xs) !important;
    text-transform: uppercase;
    color: var(--text-secondary);
}
.persona-perf-header {
    font-size: var(--font-size-body-lg) !important;
}
.persona-perf-footer {
    font-size: var(--font-size-sm) !important;
}
.metric-status {
    font-size: var(--font-size-sm) !important;
}
.metric-description {
    font-size: var(--font-size-xs) !important;
}

/* ======================================================= */
/* ===== SURGICAL NATIVE COMPONENT STYLE OVERRIDES ===== */
/* ======================================================= */

/*
  This is the definitive fix for the border problem. We are using
  Streamlit's own "data-testid" attributes to create highly specific
  CSS rules that will override any and all default styles.
*/

/* Target ALL major containers and kill their borders and backgrounds */
div[data-testid="stVerticalBlock"], 
div[data-testid="stHorizontalBlock"],
div[data-testid="stDeck"] {
    border: none !important;
    background: none !important;
    box-shadow: none !important;
}

/* Target DataFrames specifically */
div[data-testid="stDataFrame"] {
    border: 1px solid var(--border-color) !important;
    border-radius: var(--border-radius) !important;
    overflow: hidden; /* Prevents inner content from breaking out */
}

/* Target Tabs Container */
div[data-testid="stTabs"] [role="tabpanel"] {
    border: none !important;
    padding: 1rem 0 !important;
}

/* Target Expander Container */
div[data-testid="stExpander"] > details {
    border: 1px solid var(--border-color) !important;
    border-radius: var(--border-radius) !important;
    padding: 1rem !important;
    background: #f8fafc !important;
}
div[data-testid="stExpander"] > details > summary {
    font-size: var(--font-size-body-lg) !important;
    font-weight: 600;
}


/* Target Alert boxes (info, warning, success, error) */
div[data-testid="stAlert"] {
    border: 1px solid var(--border-color) !important;
    border-left-width: 4px !important;
    box-shadow: none !important;
    border-radius: var(--border-radius) !important;
    padding: 1rem !important;
}
div[data-testid="stInfo"] {
    border-left-color: #3B82F6 !important;
    background: rgba(59, 130, 246, 0.05) !important;
}
div[data-testid="stSuccess"] {
    border-left-color: var(--status-excellent) !important;
    background: rgba(16, 185, 129, 0.05) !important;
}
div[data-testid="stWarning"] {
    border-left-color: var(--status-warning) !important;
    background: rgba(245, 158, 11, 0.05) !important;
}
div[data-testid="stError"] {
    border-left-color: var(--status-critical) !important;
    background: rgba(239, 68, 68, 0.05) !important;
}

/* ===== END NATIVE OVERRIDES ===== */

/* ===== CSS VARIABLES - SINGLE SOURCE OF TRUTH ===== */
:root {
    /* Core Brand Colors */
    --primary-color: #E85A4F;
    --primary-hover: #d44a3a;
    --secondary-color: #2C3E50;
    --background: #FFFFFF;
    --text-primary: #2C3E50;
    --text-secondary: #6B7280;
    --border-color: #D1D5DB;
    --gray-border: #D1D5DB;
    
    /* Status Colors - RAG System */
    --status-excellent: #10b981;
    --status-good: #059669;
    --status-warning: #f59e0b;
    --status-critical: #ef4444;
    --green-status: #34c759;
    --yellow-status: #ffb800;
    --red-status: #ff3b30;
    --orange-status: #ff9500;
    
    /* Typography Scale */
    --font-size-h1: 1.8rem;
    --font-size-h2: 1.4rem;
    --font-size-body: 1.0rem;
    --font-size-small: 0.875rem;
    
    /* Font Families */
    --font-primary: 'Inter', sans-serif;
    --font-secondary: 'Inter', sans-serif;
    --font-serif: 'Crimson Text', serif;
    
    /* Font Weights */
    --font-weight-normal: 400;
    --font-weight-semibold: 600;
    
    /* Spacing Scale */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    
    /* Border Radius */
    --border-radius: 6px;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    
    /* Chart Colors */
    --chart-height: 400px;
    --chart-color-1: #E85A4F;
    --chart-color-2: #2C3E50;
    --chart-color-3: #10b981;
    --chart-color-4: #f59e0b;
    --chart-color-5: #ef4444;
    
    /* Text Selection */
    --text-selection: #E85A4F;
}

/* ===== GLOBAL RESETS ===== */
* {
    box-sizing: border-box;
}

/* Text Selection */
::selection {
    background-color: var(--text-selection);
    color: white;
}

/* ===== TYPOGRAPHY ===== */
.main .block-container {
    font-family: var(--font-primary);
    font-weight: 400;
    color: var(--secondary-color);
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    color: var(--secondary-color);
    font-weight: 600;
}

.main-header h1 {
    font-family: var(--font-serif);
    font-size: var(--font-size-h1);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: 0 0 var(--spacing-sm) 0;
}

.section-header {
    font-family: var(--font-serif);
    font-size: var(--font-size-h2);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: var(--spacing-lg) 0 var(--spacing-md) 0;
}

.body-text {
    font-family: var(--font-secondary);
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-normal);
    color: var(--text-secondary);
    line-height: 1.6;
}

/* ===== LAYOUT COMPONENTS ===== */
.main-header {
    background: var(--background);
    border-left: 4px solid var(--primary-color);
    color: var(--secondary-color);
    padding: 1rem 1.5rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    border: 1px solid var(--gray-border);
}

.main-header p {
    font-family: var(--font-primary);
    font-size: 1rem;
    font-weight: 400;
    color: #666;
    margin: 0;
}

.content-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

/* ===== CARD COMPONENTS ===== */
.metric-card {
    background: var(--background);
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border: 1px solid var(--gray-border);
    border-left: 4px solid var(--primary-color);
    margin-bottom: 1rem;
    font-family: var(--font-primary);
    transition: box-shadow 0.2s ease;
    font-weight: 500;
}

.metric-card:hover {
    box-shadow: var(--shadow-md);
}

.persona-perf-card {
    border: 1px solid var(--border-color) !important;
    border-radius: 10px !important;
    padding: 1.25rem !important;
    background-color: var(--background) !important;
    text-align: center !important;
    height: 100%;
    box-shadow: var(--shadow-sm) !important;
    border-top: 4px solid var(--border-color) !important;
}

.persona-perf-card.excellent { border-top-color: var(--status-excellent) !important; }
.persona-perf-card.good { border-top-color: var(--status-good) !important; }
.persona-perf-card.warning { border-top-color: var(--status-warning) !important; }
.persona-perf-card.critical { border-top-color: var(--status-critical) !important; }

.persona-perf-header {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.persona-perf-score {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary-color);
    line-height: 1;
}

.persona-perf-label {
    font-size: 0.8rem;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-top: 0.25rem;
    margin-bottom: 1rem;
}

.persona-perf-footer {
    font-size: 0.9rem;
    color: var(--text-secondary);
    border-top: 1px solid var(--border-color);
    padding-top: 0.75rem;
    margin-top: 0.75rem;
}

.metric-card.critical {
    border-left-color: var(--red-status);
}

.metric-card.warning {
    border-left-color: var(--yellow-status);
}

.metric-card.fair {
    border-left-color: var(--orange-status);
}

.metric-value {
    font-size: 2.0rem;
    font-weight: 700;
    margin: 0;
    line-height: 1;
    color: var(--secondary-color);
}

.metric-label {
    font-size: 0.9rem;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 0.5rem;
    font-family: var(--font-primary);
    font-weight: 500;
}

.metric-status {
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    margin-top: -0.25rem;
    margin-bottom: 0.5rem;
}

.metric-status-high { color: var(--status-excellent); }
.metric-status-moderate { color: var(--status-warning); }
.metric-status-low { color: var(--status-critical); }

.metric-description {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-top: 0.75rem;
    font-family: var(--font-primary);
}

.content-card {
    background: var(--background);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-md);
    box-shadow: var(--shadow-sm);
}

/* Standard card styling variants */
.brand-card, .persona-card, .matrix-card, .opportunity-card, .success-card, .report-card {
    background: var(--background);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--primary-color);
    border: 1px solid var(--gray-border);
    margin-bottom: 1rem;
    font-family: var(--font-primary);
}

/* Persona-specific card components */
.persona-metric {
    text-align: center;
    margin: 1rem 0;
}

.persona-metric .metric-value {
    font-family: var(--font-primary);
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
    line-height: 1;
}

.persona-metric .metric-label {
    font-family: var(--font-primary);
    font-size: 0.8rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 0.5rem;
}

.experience-highlight {
    background: #d1fae5;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--status-excellent);
    margin: 0.5rem 0;
    font-family: var(--font-primary);
}

/* ===== STATUS COMPONENTS ===== */
.status-card {
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-left: 4px solid;
}

.status-excellent, .sentiment-positive, .engagement-high {
    background-color: rgba(16, 185, 129, 0.1);
    border-left-color: var(--status-excellent);
    color: var(--status-excellent);
}

.status-good, .sentiment-neutral, .engagement-medium {
    background-color: rgba(5, 150, 105, 0.1);
    border-left-color: var(--status-good);
    color: var(--status-good);
}

.status-warning, .status-fair, .performance-fair {
    background-color: rgba(245, 158, 11, 0.1);
    border-left-color: var(--status-warning);
    color: var(--status-warning);
}

.status-critical, .sentiment-negative, .engagement-low {
    background-color: rgba(239, 68, 68, 0.1);
    border-left-color: var(--status-critical);
    color: var(--status-critical);
}

/* Performance indicators */
.performance-excellent { color: var(--green-status); font-weight: 600; }
.performance-good { color: var(--yellow-status); font-weight: 600; }
.performance-fair { color: var(--orange-status); font-weight: 600; }

/* Status indicators */
.status-running {
    color: #f59e0b;
    font-weight: 600;
}

.status-complete {
    color: var(--green-status);
    font-weight: 600;
}

.status-error {
    color: var(--red-status);
    font-weight: 600;
}

/* ===== BUTTON COMPONENTS ===== */
.primary-button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    padding: var(--spacing-sm) var(--spacing-lg);
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.primary-button:hover {
    background-color: var(--primary-hover);
}

.secondary-button {
    background-color: transparent;
    color: var(--primary-color);
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm) var(--spacing-lg);
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    transition: all 0.2s ease;
}

.secondary-button:hover {
    background-color: var(--primary-color);
    color: white;
}

/* Action buttons */
.apply-button, .action-button, .nav-button {
    background: var(--green-status);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    text-decoration: none;
    display: inline-block;
    margin: 0.25rem;
    font-weight: 600;
    font-family: var(--font-primary);
    border: none;
    cursor: pointer;
}

.apply-button:hover {
    background: #059669;
}

.export-button {
    background: var(--primary-color);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    text-decoration: none;
    display: inline-block;
    margin: 0.25rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    font-family: var(--font-primary);
}

.export-button:hover {
    background: var(--primary-hover);
    color: white;
}

.audit-button {
    background: #f59e0b;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    text-decoration: none;
    display: inline-block;
    margin: 0.25rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    font-family: var(--font-primary);
}

.audit-button:hover {
    background: #d97706;
}

.copy-button {
    background: #6b7280;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    cursor: pointer;
    float: right;
    font-family: var(--font-primary);
    border: none;
}

.copy-button:hover {
    background: #4b5563;
}

/* ===== BADGE COMPONENTS ===== */
.badge {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: calc(var(--border-radius) / 2);
    font-family: var(--font-secondary);
    font-size: var(--font-size-small);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.badge-excellent {
    background-color: var(--status-excellent);
    color: white;
}

.badge-good {
    background-color: var(--status-good);
    color: white;
}

.badge-warning {
    background-color: var(--status-warning);
    color: white;
}

.badge-critical {
    background-color: var(--status-critical);
    color: white;
}

/* Badge variants */
.strength-badge, .quick-win-badge {
    background: var(--green-status);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    display: inline-block;
    margin: 0.25rem;
    font-family: var(--font-primary);
}

.pattern-tag {
    background: var(--primary-color);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    display: inline-block;
    margin: 0.25rem;
    font-family: var(--font-primary);
}

.critical-badge {
    background: var(--red-status);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-family: var(--font-primary);
    font-size: 0.8rem;
    font-weight: 600;
}

/* ===== IMPACT & PRIORITY STYLING ===== */
.impact-high {
    border-left-color: #dc2626;
    background: #fef2f2;
}

.impact-medium {
    border-left-color: #f59e0b;
    background: #fffbeb;
}

.impact-low {
    border-left-color: var(--green-status);
    background: #f0fdf4;
}

.priority-urgent {
    background: #fee2e2;
    border: 2px solid #dc2626;
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
}

.priority-high {
    background: #fef3c7;
    border: 2px solid #f59e0b;
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
}

.priority-medium {
    background: #f0fdf4;
    border: 2px solid var(--green-status);
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
}

.success-excellent {
    border-left-color: #059669;
    background: #f0fdf4;
}

.success-good {
    border-left-color: var(--green-status);
    background: #f0fdf4;
}

/* ===== SPECIALIZED CARDS ===== */
.pattern-card, .ai-recommendation, .criteria-insight {
    background: #f0f9ff;
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--primary-color);
    margin: 1rem 0;
}

.drill-down-section, .audit-section {
    background: #fef7cd;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid #f59e0b;
    margin: 1rem 0;
}

.insights-box, .comparison-section, .tier-section, .export-section {
    background: #f8fafc;
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid var(--gray-border);
    margin: 1rem 0;
    font-family: var(--font-primary);
}

.insights-box h4 {
    font-family: var(--font-serif);
    color: var(--secondary-color);
    margin-bottom: 1rem;
}

.persona-quote, .evidence-section {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--primary-color);
    margin: 1rem 0;
    font-style: italic;
    color: var(--secondary-color);
}

.copy-example {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--gray-border);
    margin: 0.5rem 0;
    font-family: "Inter", monospace;
    color: var(--secondary-color);
}

/* ===== FORM COMPONENTS ===== */
.form-group {
    margin-bottom: var(--spacing-md);
}

.form-label {
    display: block;
    font-family: var(--font-secondary);
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin-bottom: var(--spacing-xs);
}

/* ===== TABLE COMPONENTS ===== */
.data-table {
    width: 100%;
    border-collapse: collapse;
    font-family: var(--font-secondary);
    font-size: var(--font-size-body);
    background: white;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--gray-border);
}

.data-table th {
    background-color: #F9FAFB;
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    padding: var(--spacing-sm) var(--spacing-md);
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.data-table td {
    padding: var(--spacing-sm) var(--spacing-md);
    border-bottom: 1px solid var(--border-color);
    color: var(--text-secondary);
}

/* ===== ENHANCED ALERT COMPONENTS ===== */
.alert {
    border-radius: 10px;
    padding: 1.25rem 1.5rem;
    margin-bottom: var(--spacing-lg);
    font-family: var(--font-primary);
    border-left: 5px solid;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    position: relative;
    overflow: hidden;
    line-height: 1.6;
}

.alert::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    opacity: 0.3;
}

.alert-info {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.02) 100%);
    border-left-color: #3B82F6;
    color: #1E40AF;
    border: 1px solid rgba(59, 130, 246, 0.15);
}

.alert-info::before {
    background: #3B82F6;
}

.alert-success, .status-excellent {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(16, 185, 129, 0.02) 100%);
    border-left-color: var(--status-excellent);
    color: #065f46;
    border: 1px solid rgba(16, 185, 129, 0.15);
    box-shadow: 0 2px 12px rgba(16, 185, 129, 0.15);
}

.alert-success::before, .status-excellent::before {
    background: var(--status-excellent);
}

.alert-warning, .status-warning {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.08) 0%, rgba(245, 158, 11, 0.02) 100%);
    border-left-color: var(--status-warning);
    color: #92400e;
    border: 1px solid rgba(245, 158, 11, 0.15);
    box-shadow: 0 2px 12px rgba(245, 158, 11, 0.15);
}

.alert-warning::before, .status-warning::before {
    background: var(--status-warning);
}

.alert-error, .status-critical {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.08) 0%, rgba(239, 68, 68, 0.02) 100%);
    border-left-color: var(--status-critical);
    color: #991b1b;
    border: 1px solid rgba(239, 68, 68, 0.15);
    box-shadow: 0 2px 12px rgba(239, 68, 68, 0.15);
}

.alert-error::before, .status-critical::before {
    background: var(--status-critical);
}

/* Enhanced status cards with same styling as alerts */
.status-excellent, .status-good, .status-warning, .status-critical {
    border-radius: 10px;
    padding: 1.25rem 1.5rem;
    margin-bottom: var(--spacing-lg);
    font-family: var(--font-primary);
    border-left: 5px solid;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    position: relative;
    overflow: hidden;
    line-height: 1.6;
}

.status-excellent::before, .status-good::before, .status-warning::before, .status-critical::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    opacity: 0.3;
}

.status-good {
    background: linear-gradient(135deg, rgba(5, 150, 105, 0.08) 0%, rgba(5, 150, 105, 0.02) 100%);
    border-left-color: var(--status-good);
    color: #064e3b;
    border: 1px solid rgba(5, 150, 105, 0.15);
    box-shadow: 0 2px 12px rgba(5, 150, 105, 0.15);
}

.status-good::before {
    background: var(--status-good);
}

/* Alert content styling */
.alert strong, .status-excellent strong, .status-good strong, .status-warning strong, .status-critical strong {
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: inline-block;
}

.alert br + strong, .status-excellent br + strong, .status-good br + strong, .status-warning br + strong, .status-critical br + strong {
    margin-top: 0.75rem;
}

/* Hover effects for interactive alerts */
.alert:hover, .status-excellent:hover, .status-good:hover, .status-warning:hover, .status-critical:hover {
    transform: translateY(-1px);
    transition: all 0.2s ease;
}

.alert-success:hover, .status-excellent:hover {
    box-shadow: 0 4px 16px rgba(16, 185, 129, 0.2);
}

.alert-error:hover, .status-critical:hover {
    box-shadow: 0 4px 16px rgba(239, 68, 68, 0.2);
}

.alert-warning:hover, .status-warning:hover {
    box-shadow: 0 4px 16px rgba(245, 158, 11, 0.2);
}

.alert-info:hover {
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2);
}

.status-good:hover {
    box-shadow: 0 4px 16px rgba(5, 150, 105, 0.2);
}

/* ===== LAYOUT UTILITIES ===== */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-between {
    justify-content: space-between;
}

.gap-sm {
    gap: var(--spacing-sm);
}

.gap-md {
    gap: var(--spacing-md);
}

.gap-lg {
    gap: var(--spacing-lg);
}

/* ===== SPACING UTILITIES ===== */
.mt-sm { margin-top: var(--spacing-sm); }
.mt-md { margin-top: var(--spacing-md); }
.mt-lg { margin-top: var(--spacing-lg); }
.mt-xl { margin-top: var(--spacing-xl); }

.mb-sm { margin-bottom: var(--spacing-sm); }
.mb-md { margin-bottom: var(--spacing-md); }
.mb-lg { margin-bottom: var(--spacing-lg); }
.mb-xl { margin-bottom: var(--spacing-xl); }

.p-sm { padding: var(--spacing-sm); }
.p-md { padding: var(--spacing-md); }
.p-lg { padding: var(--spacing-lg); }
.p-xl { padding: var(--spacing-xl); }

/* ===== TEXT UTILITIES ===== */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-brand { color: var(--primary-color); }

/* Persona card specific styling */
.persona-card h4 {
    text-align: center;
    margin-bottom: 1rem;
    font-family: var(--font-serif);
    color: var(--secondary-color);
}

.font-semibold { font-weight: var(--font-weight-semibold); }
.font-normal { font-weight: var(--font-weight-normal); }

/* ===== SCORE DISPLAY ===== */
.impact-score {
    font-size: 1.5rem;
    font-weight: 600;
    text-align: center;
    color: var(--secondary-color);
}

/* ===== STREAMLIT OVERRIDES ===== */
.stMetric {
    background: var(--background);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
}

.stSelectbox > div > div, .stSlider > div > div, .stNumberInput > div > div {
    font-family: var(--font-primary);
    border-color: var(--border-color);
    border-radius: var(--border-radius);
}

/* Primary buttons (type="primary") - Coral background */
.stButton > button[kind="primary"] {
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    transition: background-color 0.2s ease;
}

.stButton > button[kind="primary"]:hover {
    background-color: var(--primary-hover);
    color: white;
}

/* Secondary buttons (type="secondary") - White background with coral border */
.stButton > button[kind="secondary"] {
    background-color: white;
    color: var(--primary-color);
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    transition: all 0.2s ease;
}

.stButton > button[kind="secondary"]:hover {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* Metric cards */
[data-testid="metric-container"] {
    background: white;
    border: 1px solid var(--gray-border);
    border-left: 4px solid var(--primary-color);
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

[data-testid="metric-container"] > div {
    font-family: var(--font-primary);
}

[data-testid="metric-container"] [data-testid="metric-value"] {
    color: var(--secondary-color);
    font-weight: 600;
}

/* ===== TAB STYLING - COMPREHENSIVE ===== */
.stTabs [data-baseweb="tab-list"] {
    gap: 4px !important;
    background: transparent !important;
    border-bottom: none !important;
    padding: 0 !important;
    margin-bottom: 1rem !important;
}

/* ALL TABS - Default inactive state (white background) */
.stTabs [data-baseweb="tab"] {
    font-family: var(--font-primary) !important;
    font-weight: 500 !important;
    background-color: white !important;
    background: white !important;
    color: var(--secondary-color) !important;
    border: 1px solid var(--gray-border) !important;
    border-radius: 6px !important;
    padding: 0.5rem 1rem !important;
    margin: 0 2px !important;
    min-height: 40px !important;
    transition: all 0.2s ease !important;
}

/* ACTIVE TAB - Primary color background */
.stTabs [data-baseweb="tab"][aria-selected="true"] {
    background-color: var(--primary-color) !important;
    background: var(--primary-color) !important;
    color: white !important;
    border-color: var(--primary-color) !important;
    font-weight: 600 !important;
    box-shadow: 0 2px 4px rgba(232, 90, 79, 0.3) !important;
}

/* HOVER STATES */
.stTabs [data-baseweb="tab"]:hover:not([aria-selected="true"]) {
    background-color: #F9FAFB !important;
    background: #F9FAFB !important;
    border-color: #9CA3AF !important;
    transform: translateY(-1px) !important;
}

.stTabs [data-baseweb="tab"][aria-selected="true"]:hover {
    background-color: var(--primary-hover) !important;
    background: var(--primary-hover) !important;
    border-color: var(--primary-hover) !important;
}

/* FOCUS STATES */
.stTabs [data-baseweb="tab"]:focus {
    outline: 2px solid var(--primary-color) !important;
    outline-offset: 2px !important;
}

/* Tab content area */
.stTabs [data-baseweb="tab-panel"] {
    padding-top: 1rem !important;
    border: none !important;
}

/* NUCLEAR OPTION - Force styling with highest specificity */
div[data-testid="stTabs"] div[role="tablist"] button {
    background-color: white !important;
    color: var(--secondary-color) !important;
    border: 1px solid var(--gray-border) !important;
    border-radius: 6px !important;
    font-family: var(--font-primary) !important;
    font-weight: 500 !important;
    padding: 0.5rem 1rem !important;
    margin: 0 2px !important;
}

div[data-testid="stTabs"] div[role="tablist"] button[aria-selected="true"] {
    background-color: var(--primary-color) !important;
    color: white !important;
    border-color: var(--primary-color) !important;
    font-weight: 600 !important;
}

/* Override any Streamlit default tab styling */
.stTabs > div > div > div > div {
    border-bottom: none !important;
}

.stTabs > div > div > div > div > div {
    background: white !important;
    border: 1px solid var(--gray-border) !important;
    border-radius: 6px !important;
}

.stTabs > div > div > div > div > div[aria-selected="true"] {
    background: var(--primary-color) !important;
    color: white !important;
    border-color: var(--primary-color) !important;
}

/* ===== HEADER OVERRIDES ===== */
/* Override Streamlit's default section headers */
.main h1, .main h2, .main h3, .main h4, .main h5, .main h6 {
    font-family: var(--font-serif) !important;
    color: var(--secondary-color) !important;
    font-weight: 600 !important;
    padding: 0 !important;
    margin: 1rem 0 0.5rem 0 !important;
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
}

/* Specific styling for h2 section headers */
.main h2 {
    font-size: 1.4rem;
    border-left: 3px solid var(--primary-color);
    padding-left: 0.75rem;
    margin: 1.5rem 0 1rem 0;
    background: rgba(232, 90, 79, 0.05) !important;
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
}

/* Specific styling for h3 subsection headers */
.main h3 {
    font-size: 1.2rem;
    color: var(--secondary-color);
    margin: 1rem 0 0.5rem 0;
    font-weight: 600;
}

/* Remove any colored backgrounds from section containers */
.stMarkdown div[data-testid="stMarkdownContainer"] {
    background: none !important;
}

/* Target Streamlit's auto-generated header styling */
div[data-testid="stMarkdownContainer"] h1,
div[data-testid="stMarkdownContainer"] h2,
div[data-testid="stMarkdownContainer"] h3 {
    background: none !important;
    border: none !important;
    color: var(--secondary-color) !important;
    font-family: var(--font-serif) !important;
    padding: 0.25rem 0 !important;
    margin: 0.5rem 0 !important;
}

/* Override the colored header banners completely */
.stMarkdown > div > div > div {
    background: none !important;
    border: none !important;
    padding: 0 !important;
}

/* Force remove any element-ui header styling */
.element-container div[data-testid="stMarkdownContainer"] h2 {
    background: rgba(232, 90, 79, 0.05) !important;
    border-left: 3px solid var(--primary-color) !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: 4px !important;
    font-size: 1.3rem !important;
    margin: 1rem 0 0.75rem 0 !important;
}

/* ===== LINK STYLING ===== */
a {
    color: var(--primary-color);
    text-decoration: none;
}

a:hover {
    color: var(--primary-hover);
    text-decoration: underline;
}

/* ===== CHART STYLING ===== */
.plotly-chart {
    height: var(--chart-height) !important;
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    :root {
        --font-size-h1: 1.5rem;
        --font-size-h2: 1.2rem;
        --spacing-lg: 1rem;
        --spacing-xl: 1.5rem;
    }
    
    .main-header {
        padding: var(--spacing-md);
    }
    
    .metric-card {
        padding: var(--spacing-md);
    }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus styles for keyboard navigation */
button:focus,
select:focus,
input:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

/* ===== PRINT STYLES ===== */
@media print {
    .metric-card,
    .content-card {
        border: 1px solid #000;
        box-shadow: none;
    }
    
    .status-card {
        border: 1px solid #000;
    }
}

/* ===== NEW ACTION CARD STYLES - HUMAN-CENTERED DESIGN ===== */
.action-card {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
    background-color: #f8fafc;
}

.action-card h4 {
    font-size: var(--font-size-h3) !important;
    margin-top: 0 !important;
    margin-bottom: 0.5rem !important;
    border: none !important;
    background: none !important;
    padding: 0 !important;
}

.action-card .rec-metrics-bar {
    display: flex;
    flex-wrap: wrap; /* THIS IS THE CRITICAL FIX FOR RESPONSIVENESS */
    gap: 1.5rem;
    margin-top: 0.5rem;
    margin-bottom: 1rem;
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.action-card .badge-default {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    background-color: #E5E7EB;
    color: #374151;
    font-size: var(--font-size-xs);
    font-weight: 500;
    margin: 0.25rem 0.25rem 0.25rem 0;
}

.action-card div[data-testid="stExpander"] > details {
    border: 1px solid var(--border-color) !important;
    border-radius: var(--border-radius) !important;
    background: white !important;
    padding: 0.75rem !important;
    margin-bottom: 0.5rem;
}
.action-card div[data-testid="stExpander"] > details > summary {
    font-size: var(--font-size-sm) !important;
    font-weight: 500;
}
.action-card div[data-testid="stExpander"] div[data-testid="stInfo"] {
    margin-top: 1rem;
}

/* Style the synthesized findings list */
.action-card ul {
    list-style-position: inside;
    padding-left: 0.5rem;
}
.action-card li {
    margin-bottom: 0.5rem;
}

/* ===== RECOMMENDATIONS PAGE STYLES ===== */
.section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: white;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}

.filters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-group label {
    font-weight: 500;
    color: var(--text-primary);
    font-size: var(--font-size-sm);
}

.filter-select {
    padding: 0.5rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: white;
    font-size: var(--font-size-body);
}

.filter-slider {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: #ddd;
    outline: none;
    -webkit-appearance: none;
}

.filter-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--primary-color);
    cursor: pointer;
}

.thematic-insights {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.theme-card {
    background: #f8fafc;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1rem;
}

.theme-card h3 {
    color: var(--text-primary);
    margin-bottom: 1rem;
    font-size: var(--font-size-h3);
}

.theme-rec-item {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1rem;
    margin-bottom: 1rem;
}

.theme-rec-item h4 {
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    font-size: var(--font-size-body-lg);
}

.theme-rec-item ul {
    margin-left: 1rem;
    color: var(--text-secondary);
}

.recommendations-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;
}

.recommendation-card {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.rec-header {
    margin-bottom: 1rem;
}

.rec-header h3 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0;
    font-size: var(--font-size-h3);
    color: var(--text-primary);
}

.priority-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: var(--font-size-xs);
    font-weight: 600;
    text-transform: uppercase;
}

.priority-badge.error {
    background: rgba(239, 68, 68, 0.1);
    color: var(--status-critical);
}

.priority-badge.warning {
    background: rgba(245, 158, 11, 0.1);
    color: var(--status-warning);
}

.priority-badge.success {
    background: rgba(16, 185, 129, 0.1);
    color: var(--status-excellent);
}

.rec-url {
    margin-bottom: 1rem;
    padding: 0.5rem;
    background: #f8fafc;
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
}

.rec-url a {
    color: var(--primary-color);
    text-decoration: none;
}

.rec-url a:hover {
    text-decoration: underline;
}

.rec-description, .rec-evidence, .rec-evidence-list {
    margin-bottom: 1rem;
}

.rec-description p, .rec-evidence p {
    margin-top: 0.5rem;
    color: var(--text-secondary);
    line-height: 1.6;
}

.rec-evidence-list ul {
    margin-top: 0.5rem;
    margin-left: 1rem;
    color: var(--text-secondary);
}

.rec-evidence-list li {
    margin-bottom: 0.25rem;
}

.rec-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 1rem;
    background: #f8fafc;
    border-radius: var(--border-radius);
}

.metric-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.metric-label {
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    text-transform: uppercase;
    font-weight: 500;
    margin-bottom: 0.25rem;
}

.metric-value {
    font-size: var(--font-size-body-lg);
    font-weight: 600;
    color: var(--text-primary);
}

.metric-value.high {
    color: var(--status-critical);
}

.metric-value.medium {
    color: var(--status-warning);
}

.rec-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}

.detail-item {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.detail-item strong {
    color: var(--text-primary);
}

.detail-item code {
    background: #f3f4f6;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: monospace;
    font-size: var(--font-size-xs);
}

.planning-charts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    margin-top: 1rem;
}

.chart-container {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1rem;
}

.chart-container.full-width {
    grid-column: 1 / -1;
}

.chart-container h3 {
    margin-bottom: 1rem;
    color: var(--text-primary);
    font-size: var(--font-size-h3);
}

.planning-table {
    margin-top: 2rem;
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.planning-table h3 {
    padding: 1rem;
    margin: 0;
    background: #f8fafc;
    border-bottom: 1px solid var(--border-color);
    color: var(--text-primary);
    font-size: var(--font-size-h3);
}

.planning-table table {
    width: 100%;
    border-collapse: collapse;
}

.planning-table th {
    background: #f8fafc;
    padding: 0.75rem;
    text-align: left;
    font-weight: 600;
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-color);
    font-size: var(--font-size-sm);
}

.planning-table td {
    padding: 0.75rem;
    border-bottom: 1px solid var(--border-color);
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
}

.planning-table tr:hover {
    background: #f8fafc;
}

.section-subtitle {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    margin-top: 0.5rem;
    margin-bottom: 1rem;
}

.loading-state, .error-state {
    text-align: center;
    padding: 3rem;
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f4f6;
    border-top: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.error-message {
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-radius: var(--border-radius);
    padding: 2rem;
    max-width: 500px;
    margin: 0 auto;
}

.error-message h2 {
    color: var(--status-critical);
    margin-bottom: 1rem;
}

.error-message p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.retry-button {
    background: var(--primary-color);
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: var(--font-size-sm);
    font-weight: 500;
}

.retry-button:hover {
    background: var(--primary-hover);
}

/* ===== IMPLEMENTATION TRACKING PAGE STYLES ===== */
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 2rem;
    margin-top: 1rem;
}

.implementation-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;
}

.implementation-card {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.impl-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.impl-header h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0;
    font-size: var(--font-size-h3);
    color: var(--text-primary);
    flex: 1;
    min-width: 300px;
}

.priority-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: var(--font-size-xs);
    font-weight: 600;
    text-transform: uppercase;
    margin-left: 1rem;
}

.priority-badge.high {
    background: rgba(239, 68, 68, 0.1);
    color: #EF4444;
}

.priority-badge.medium {
    background: rgba(245, 158, 11, 0.1);
    color: #F59E0B;
}

.priority-badge.low {
    background: rgba(16, 185, 129, 0.1);
    color: #10B981;
}

.impl-status {
    display: flex;
    align-items: center;
}

.status-badge {
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    font-size: var(--font-size-xs);
    font-weight: 600;
    text-transform: uppercase;
}

.status-badge.completed {
    background: rgba(16, 185, 129, 0.1);
    color: #10B981;
}

.status-badge.in_progress {
    background: rgba(59, 130, 246, 0.1);
    color: #3B82F6;
}

.status-badge.blocked {
    background: rgba(239, 68, 68, 0.1);
    color: #EF4444;
}

.status-badge.not_started {
    background: rgba(107, 114, 128, 0.1);
    color: #6B7280;
}

.status-badge.on_hold {
    background: rgba(245, 158, 11, 0.1);
    color: #F59E0B;
}

.impl-description {
    margin-bottom: 1rem;
}

.impl-description p {
    margin-top: 0.5rem;
    color: var(--text-secondary);
    line-height: 1.6;
}

.impl-progress {
    margin-bottom: 1rem;
}

.progress-header {
    margin-bottom: 0.5rem;
    color: var(--text-primary);
    font-size: var(--font-size-sm);
}

.progress-bar {
    width: 100%;
    height: 20px;
    background: #f3f4f6;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
}

.progress-fill {
    height: 100%;
    transition: width 0.3s ease;
    border-radius: 10px;
}

.impl-milestones {
    margin-bottom: 1rem;
}

.milestones-list {
    margin-top: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.milestone-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    background: #f8fafc;
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
}

.milestone-item.completed {
    background: rgba(16, 185, 129, 0.05);
}

.milestone-item.in_progress {
    background: rgba(59, 130, 246, 0.05);
}

.milestone-item.pending {
    background: rgba(107, 114, 128, 0.05);
}

.milestone-status {
    font-size: 1rem;
}

.milestone-name {
    flex: 1;
    color: var(--text-primary);
    font-weight: 500;
}

.milestone-date {
    color: var(--text-secondary);
    font-size: var(--font-size-xs);
}

.impl-blockers, .impl-dependencies {
    margin-bottom: 1rem;
}

.impl-blockers ul, .impl-dependencies ul {
    margin-top: 0.5rem;
    margin-left: 1rem;
    color: var(--text-secondary);
}

.blocker-item {
    color: #EF4444;
    margin-bottom: 0.25rem;
}

.dependency-item {
    color: #F59E0B;
    margin-bottom: 0.25rem;
}

.impl-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}

.detail-item {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.detail-item strong {
    color: var(--text-primary);
}

.action-items {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;
}

.action-group {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1rem;
}

.action-group.blocked {
    border-left: 4px solid #EF4444;
    background: rgba(239, 68, 68, 0.02);
}

.action-group.behind-schedule {
    border-left: 4px solid #F59E0B;
    background: rgba(245, 158, 11, 0.02);
}

.action-group.upcoming {
    border-left: 4px solid #3B82F6;
    background: rgba(59, 130, 246, 0.02);
}

.action-group.completed {
    border-left: 4px solid #10B981;
    background: rgba(16, 185, 129, 0.02);
}

.action-group h3 {
    margin-bottom: 1rem;
    color: var(--text-primary);
    font-size: var(--font-size-h3);
}

.action-item {
    padding: 0.75rem;
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    margin-bottom: 0.5rem;
    font-size: var(--font-size-sm);
}

.action-item strong {
    color: var(--text-primary);
}

.blocker-list {
    margin-top: 0.5rem;
    margin-left: 1rem;
    color: var(--text-secondary);
}

.blocker-list li {
    margin-bottom: 0.25rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .charts-grid {
        grid-template-columns: 1fr;
    }
    
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .impl-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .impl-header h3 {
        min-width: auto;
    }
    
    .priority-badge {
        margin-left: 0;
        margin-top: 0.5rem;
    }
    
    .impl-details {
        grid-template-columns: 1fr;
    }
}

/* ===== AUDIT REPORTS PAGE STYLES ===== */
.report-selector {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.report-selector label {
    font-weight: 600;
    color: var(--text-primary);
    font-size: var(--font-size-body);
}

.report-select {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: white;
    font-size: var(--font-size-body);
    color: var(--text-primary);
    cursor: pointer;
    transition: border-color 0.2s ease;
}

.report-select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(77, 29, 130, 0.1);
}

.report-select option.option-header {
    font-weight: bold;
    background: #f8fafc;
    color: var(--text-secondary);
}

.action-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.action-button {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: var(--border-radius);
    font-size: var(--font-size-body);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.action-button.secondary {
    background: #f8fafc;
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.action-button.secondary:hover {
    background: #e2e8f0;
    border-color: var(--primary);
}

.action-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.action-button:disabled:hover {
    background: #f8fafc;
    border-color: var(--border-color);
}

.report-details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 1rem;
    background: #f8fafc;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}

.report-info {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.5rem;
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.report-info strong {
    color: var(--text-primary);
}

.separator {
    color: var(--text-tertiary);
    margin: 0 0.25rem;
}

.report-actions {
    display: flex;
    gap: 0.75rem;
}

.download-button {
    padding: 0.5rem 1rem;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.download-button:hover {
    background: var(--primary-hover);
}

.html-viewer {
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.html-viewer iframe {
    display: block;
    border: none;
}

.technical-details {
    margin-top: 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: white;
}

.technical-details summary {
    padding: 1rem;
    cursor: pointer;
    font-weight: 600;
    color: var(--text-primary);
    background: #f8fafc;
    border-radius: var(--border-radius);
    transition: background-color 0.2s ease;
}

.technical-details summary:hover {
    background: #e2e8f0;
}

.technical-details[open] summary {
    border-bottom: 1px solid var(--border-color);
    border-radius: var(--border-radius) var(--border-radius) 0 0;
}

.details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    padding: 1rem;
}

.detail-item {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.detail-item strong {
    color: var(--text-primary);
    margin-right: 0.5rem;
}

.detail-item code {
    background: #f1f5f9;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9em;
    color: var(--text-primary);
}

.warning-message, .error-message {
    text-align: center;
    padding: 2rem;
    background: white;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}

.warning-message h2 {
    color: #f59e0b;
    margin-bottom: 1rem;
}

.error-message h2 {
    color: #ef4444;
    margin-bottom: 1rem;
}

.generate-button, .retry-button {
    padding: 0.75rem 1.5rem;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    font-size: var(--font-size-body);
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease;
    margin-top: 1rem;
}

.generate-button:hover, .retry-button:hover {
    background: var(--primary-hover);
}

.generate-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.generate-button:disabled:hover {
    background: var(--primary);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .report-details {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .report-info {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
    }
    
    .separator {
        display: none;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .action-button {
        justify-content: center;
    }
    
    .details-grid {
        grid-template-columns: 1fr;
    }
    
    .html-viewer iframe {
        height: 600px !important;
    }
}

/* ===== STANDARD CARD COMPONENT STYLES ===== */
.card-title {
  font-family: var(--font-serif);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 1rem 0;
  text-align: center;
}

.metric-display {
  text-align: center;
}

/* Ensure consistent grid layouts */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

/* Override any inconsistent persona card styling */
.persona-card {
  text-align: center;
}

.persona-card .card-title {
  font-size: 1.2rem;
  margin-bottom: 1rem;
}

.persona-card .metric-value {
  font-size: 1.8rem;
  color: var(--primary-color);
}

.persona-card .metric-label {
  font-size: 0.8rem;
  margin-top: 0.5rem;
}
